<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<body style="font-family:Segoe UI; display:flex; justify-content:center; align-items:center; height:100vh;">

<div id="msg" style="font-size:28px; color:#333;">Updating…</div>

<script>
const params = new URLSearchParams(location.search);
let points = parseInt(params.get("points")) || 0;
let add = params.get("add"); // θα είναι "true", "false", ή null

// Αν add=false ή add=False, αφαιρούμε πόντους
if (add === "false" || add === "False") {
  points = -Math.abs(points); // σιγουρευόμαστε ότι είναι αρνητικό
} else {
  points = Math.abs(points); // σιγουρευόμαστε ότι είναι θετικό
}

// Get current score from localStorage
let score = parseInt(localStorage.getItem("cyberScore") || "0");

// Update score
score += points;

// Save back to localStorage
localStorage.setItem("cyberScore", score);

// Show message
document.getElementById("msg").textContent =
  points >= 0 ? `+${points} points` : `${points} points`;

// Close tab after showing message
setTimeout(() => {
  window.close();
}, 600);
</script>

</body>
</html>
